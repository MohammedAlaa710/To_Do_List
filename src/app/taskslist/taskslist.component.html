<div class="container">
  <div style="padding-bottom: 40px;"></div>
  <h1>Task Management Application</h1>
  <hr>
  <br>
  <!---------------------------------------------------------------------------------------------------------------------------->
  <form>
    <div class="form-group">
      <label for="taskName" id="taskNamel">Task Title</label>
      <input type="text" class="form-control" [(ngModel)]="taskName" id="taskName" placeholder="Enter task Name" name="taskName">
      <label for="required" id="required" *ngIf="showRequiredField">Required</label>
    </div>
    <div class="form-group">
      <label for="taskDesc" id="taskDescl">Task Description</label>
      <textarea class="form-control" [(ngModel)]="taskDesc" id="taskDesc" placeholder="Enter task description" name="taskDesc"></textarea>
      <label for="required" id="required" *ngIf="showRequiredField">Required</label>
    </div>
    <div class="form-group">
      <label for="taskDate" id="taskDatel">Task Due Date</label>
      <input type="date" class="form-control" [(ngModel)]="taskDate" id="taskDate" placeholder="Enter task due date" name="taskDate">

      <label for="required" id="required" *ngIf="showRequiredField">Required</label>
    </div>
    <div class="center-container">
      <button id="addButton" class="btn btn-primary" (click)="addTask()">Add Task</button>
    </div>
  </form>
  <!---------------------------------------------------------------------------------------------------------------------------->
  <hr>
  <!---------------------------------------------------------------------------------------------------------------------------->

  <table class="table">
    <thead>
      <tr class="tablehead">
        <th scope="col">Task Name</th>
        <th scope="col">Task Description</th>
        <th scope="col">Due Date</th>
        <th scope="col">Status</th>
        <th scope="col">Delete</th>
        <th scope="col">Edit</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let t of Tasks; index as i">
        <td>
          <input #editedTaskName type="text" class="form-control" id="taskNameInTable" value="{{t.tasksNames}}" [readOnly]="!isEditable"
          [ngClass]="{'editable': isEditable, 'not-editable': !isEditable, 'crossed': t.isCompleted}">
        </td>
        <td class="description-cell">
          <textarea #editedTaskDesc type="text" class="form-control" id="taskDescInTable" value="{{t.tasksDesc}}" [readOnly]="!isEditable"
          [ngClass]="{'editable': isEditable, 'not-editable': !isEditable}" ></textarea>
        </td>
        <td>
          <input #editedTaskDate type="date" class="form-control" id="taskDescInTable" value="{{t.tasksDates}}" [readOnly]="!isEditable"
          [ngClass]="{'editable': isEditable, 'not-editable': !isEditable}">
        </td>
        <td><input id="completedBox" type="checkbox" (change)="onCheck(i)" ></td>
        <td><button class="btn btn-danger btn-sm" (click)="deleteTask(i)">Delete</button></td>
        <td>
          <button class="btn btn-warning" id="editButton" (click)="editTask(i)" *ngIf="!isEditable">Edit</button>
          <button class="btn btn-success" id="editButton" (click)="saveTask(i, editedTaskName.value, editedTaskDesc.value, editedTaskDate.value)" *ngIf="isEditable">Save</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

